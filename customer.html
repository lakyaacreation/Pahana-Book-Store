<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .notification { 
            transform: translateY(-100px); 
            transition: transform 0.3s ease-in-out; 
        }
        .notification.show { 
            transform: translateY(0); 
        }
        .cart-item { 
            animation: slideIn 0.3s ease-out; 
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .bill-animation {
            animation: fadeInUp 0.5s ease-out;
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 min-h-screen">
    <!-- Notification -->
    <div id="notification" class="notification fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50">
        <span id="notificationText">Action completed successfully!</span>
    </div>

    <!-- Header -->
    <header class="bg-white/10 backdrop-blur-md shadow-sm border-b border-white/15">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <div class="w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-lg">ðŸ“š</span>
                    </div>
                    <h1 class="ml-3 text-2xl font-bold text-white">Customer Dashboard</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="text-white/80">Welcome, <span class="font-semibold text-white">John Doe</span></span>
                    <div class="w-8 h-8 bg-white/15 rounded-full flex items-center justify-center">
                        <span class="text-white font-semibold">JD</span>
                    </div>
                    <button onclick="exitSystem()" class="bg-red-600/80 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2 backdrop-blur-sm border border-red-500/30">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                        </svg>
                        <span class="text-sm font-medium" onclick="window.location.href='Untitled-1.html'">Exit System</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Tab Navigation -->
        <div class="bg-white/10 backdrop-blur-md rounded-lg shadow-sm mb-8">
            <div class="border-b border-white/15">
                <nav class="flex space-x-8 px-6" aria-label="Tabs">
                    <button onclick="switchTab('update-info')" class="tab-btn border-b-2 border-white py-4 px-1 text-sm font-medium text-white">
                        Update Information
                    </button>
                    <button onclick="switchTab('purchase')" class="tab-btn border-b-2 border-transparent py-4 px-1 text-sm font-medium text-white/60 hover:text-white hover:border-white/30">
                        Purchase Items
                    </button>
                    <button onclick="switchTab('account-details')" class="tab-btn border-b-2 border-transparent py-4 px-1 text-sm font-medium text-white/60 hover:text-white hover:border-white/30">
                        Account Details
                    </button>
                    <button onclick="switchTab('billing')" class="tab-btn border-b-2 border-transparent py-4 px-1 text-sm font-medium text-white/60 hover:text-white hover:border-white/30">
                        Billing & Payment
                    </button>
                </nav>
            </div>
        </div>

        <!-- Update Information Tab -->
        <div id="update-info" class="tab-content active">
            <div class="bg-white/10 backdrop-blur-md rounded-lg shadow-sm p-6">
                <h2 class="text-xl font-semibold text-white mb-6">Update Your Information</h2>
                <form class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-white mb-2">Full Name</label>
                            <input type="text" value="John Doe" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-white mb-2">Email Address</label>
                            <input type="email" value="john.doe@email.com" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-white mb-2">Phone Number</label>
                            <input type="tel" value="+1 (555) 123-4567" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-white mb-2">Date of Birth</label>
                            <input type="date" value="1990-01-15" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-white mb-2">Address</label>
                        <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">123 Main Street, Apt 4B
New York, NY 10001</textarea>
                    </div>
                    <div class="flex justify-end">
                        <button type="button" onclick="updateInfo()" class="bg-indigo-600 text-white px-6 py-2 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors">
                            Update Information
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Purchase Items Tab -->
        <div id="purchase" class="tab-content">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Catalog -->
                <div class="lg:col-span-2">
                    <div class="bg-white/10 backdrop-blur-md rounded-lg shadow-sm p-6">
                        <h2 class="text-xl font-semibold text-white mb-6">Shop Catalog</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                                <div class="flex items-center justify-between mb-3">
                                    <h3 class="font-semibold text-gray-900">The Great Gatsby</h3>
                                    <span class="text-lg font-bold text-indigo-600">$12.99</span>
                                </div>
                                <p class="text-sm text-gray-600 mb-3">Classic American novel by F. Scott Fitzgerald</p>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <button onclick="changeQuantity('gatsby', -1)" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300">-</button>
                                        <span id="gatsby-qty" class="w-8 text-center">0</span>
                                        <button onclick="changeQuantity('gatsby', 1)" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300">+</button>
                                    </div>
                                    <button onclick="addToCart('The Great Gatsby', 12.99, 'gatsby')" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 text-sm">Add to Cart</button>
                                </div>
                            </div>

                            <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                                <div class="flex items-center justify-between mb-3">
                                    <h3 class="font-semibold text-gray-900">To Kill a Mockingbird</h3>
                                    <span class="text-lg font-bold text-indigo-600">$14.99</span>
                                </div>
                                <p class="text-sm text-gray-600 mb-3">Timeless novel by Harper Lee</p>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <button onclick="changeQuantity('mockingbird', -1)" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300">-</button>
                                        <span id="mockingbird-qty" class="w-8 text-center">0</span>
                                        <button onclick="changeQuantity('mockingbird', 1)" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300">+</button>
                                    </div>
                                    <button onclick="addToCart('To Kill a Mockingbird', 14.99, 'mockingbird')" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 text-sm">Add to Cart</button>
                                </div>
                            </div>

                            <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                                <div class="flex items-center justify-between mb-3">
                                    <h3 class="font-semibold text-gray-900">Notebook Set</h3>
                                    <span class="text-lg font-bold text-indigo-600">$8.99</span>
                                </div>
                                <p class="text-sm text-gray-600 mb-3">Premium quality notebook set (3 pieces)</p>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <button onclick="changeQuantity('notebook', -1)" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300">-</button>
                                        <span id="notebook-qty" class="w-8 text-center">0</span>
                                        <button onclick="changeQuantity('notebook', 1)" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300">+</button>
                                    </div>
                                    <button onclick="addToCart('Notebook Set', 8.99, 'notebook')" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 text-sm">Add to Cart</button>
                                </div>
                            </div>

                            <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                                <div class="flex items-center justify-between mb-3">
                                    <h3 class="font-semibold text-gray-900">Pen Set</h3>
                                    <span class="text-lg font-bold text-indigo-600">$15.99</span>
                                </div>
                                <p class="text-sm text-gray-600 mb-3">Professional ballpoint pen set (5 pieces)</p>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <button onclick="changeQuantity('pen', -1)" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300">-</button>
                                        <span id="pen-qty" class="w-8 text-center">0</span>
                                        <button onclick="changeQuantity('pen', 1)" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300">+</button>
                                    </div>
                                    <button onclick="addToCart('Pen Set', 15.99, 'pen')" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 text-sm">Add to Cart</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Shopping Cart -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-lg shadow-sm p-6 sticky top-8">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Shopping Cart</h3>
                        <div id="cart-items" class="space-y-3 mb-4">
                            <p class="text-gray-500 text-sm">Your cart is empty</p>
                        </div>
                        <div class="border-t pt-4">
                            <div class="flex justify-between items-center mb-4">
                                <span class="font-semibold text-gray-900">Total:</span>
                                <span id="cart-total" class="text-xl font-bold text-indigo-600">$0.00</span>
                            </div>
                            <button onclick="proceedToCheckout()" class="w-full bg-green-600 text-white py-2 rounded-md hover:bg-green-700 transition-colors">
                                Proceed to Checkout
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Account Details Tab -->
        <div id="account-details" class="tab-content">
            <div class="bg-white/10 backdrop-blur-md rounded-lg shadow-sm p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-semibold text-gray-900">Account Details</h2>
                    <button onclick="requestAccountDetails()" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700">
                        Request Latest Records
                    </button>
                </div>

                <!-- Account Summary -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-blue-50 rounded-lg p-4">
                        <h3 class="text-sm font-medium text-blue-800 mb-1">Total Purchases</h3>
                        <p class="text-2xl font-bold text-blue-900">$247.85</p>
                    </div>
                    <div class="bg-green-50 rounded-lg p-4">
                        <h3 class="text-sm font-medium text-green-800 mb-1">Items Bought</h3>
                        <p class="text-2xl font-bold text-green-900">23</p>
                    </div>
                    <div class="bg-orange-50 rounded-lg p-4">
                        <h3 class="text-sm font-medium text-orange-800 mb-1">Pending Payments</h3>
                        <p class="text-2xl font-bold text-orange-900">$0.00</p>
                    </div>
                </div>

                <!-- Purchase History -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Purchase History</h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Items</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2024-01-15</td>
                                    <td class="px-6 py-4 text-sm text-gray-900">The Great Gatsby (2), Notebook Set (1)</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">$34.97</td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Paid</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2024-01-10</td>
                                    <td class="px-6 py-4 text-sm text-gray-900">To Kill a Mockingbird (1), Pen Set (2)</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">$46.97</td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Paid</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2024-01-05</td>
                                    <td class="px-6 py-4 text-sm text-gray-900">Notebook Set (3), The Great Gatsby (1)</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">$39.96</td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Paid</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Billing & Payment Tab -->
        <div id="billing" class="tab-content">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Current Bill -->
                <div class="bg-white/10 backdrop-blur-md rounded-lg shadow-sm p-6">
                    <h2 class="text-xl font-semibold text-gray-900 mb-6">Current Bill</h2>
                    <div id="current-bill" class="space-y-4">
                        <p class="text-gray-500">No pending items to bill</p>
                    </div>
                    <div class="mt-6 pt-4 border-t">
                        <button onclick="calculateBill()" class="bg-indigo-600 text-white px-6 py-2 rounded-md hover:bg-indigo-700 mr-3">
                            Calculate Bill
                        </button>
                        <button onclick="printBill()" class="bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700">
                            Print Bill
                        </button>
                    </div>
                </div>

                <!-- Payment Section -->
                <div class="bg-white/10 backdrop-blur-md rounded-lg shadow-sm p-6">
                    <h2 class="text-xl font-semibold text-gray-900 mb-6">Make Payment</h2>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Payment Method</label>
                            <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                <option>Credit Card</option>
                                <option>Debit Card</option>
                                <option>Cash</option>
                                <option>Bank Transfer</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Amount to Pay</label>
                            <input type="number" id="payment-amount" placeholder="0.00" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        </div>
                        <div class="bg-gray-50 rounded-lg p-4">
                            <h3 class="font-medium text-gray-900 mb-2">Payment Summary</h3>
                            <div class="space-y-1 text-sm">
                                <div class="flex justify-between">
                                    <span>Subtotal:</span>
                                    <span id="payment-subtotal">$0.00</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Tax (8.5%):</span>
                                    <span id="payment-tax">$0.00</span>
                                </div>
                                <div class="flex justify-between font-semibold border-t pt-1">
                                    <span>Total:</span>
                                    <span id="payment-total">$0.00</span>
                                </div>
                            </div>
                        </div>
                        <button onclick="processPayment()" class="w-full bg-green-600 text-white py-3 rounded-md hover:bg-green-700 font-semibold">
                            Process Payment
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let cart = [];
        let quantities = {
            'gatsby': 0,
            'mockingbird': 0,
            'notebook': 0,
            'pen': 0
        };

        // Tab switching functionality
        function switchTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Remove active state from all tab buttons
            const tabButtons = document.querySelectorAll('.tab-btn');
            tabButtons.forEach(btn => {
                btn.classList.remove('border-indigo-500', 'text-indigo-600');
                btn.classList.add('border-transparent', 'text-gray-500');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active state to clicked tab button
            event.target.classList.remove('border-transparent', 'text-gray-500');
            event.target.classList.add('border-indigo-500', 'text-indigo-600');
        }

        // Notification system
        function showNotification(message) {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            notificationText.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Update Information functionality
        function updateInfo() {
            showNotification('Information updated successfully!');
        }

        // Shopping cart functionality
        function changeQuantity(itemId, change) {
            quantities[itemId] = Math.max(0, quantities[itemId] + change);
            document.getElementById(itemId + '-qty').textContent = quantities[itemId];
        }

        function addToCart(itemName, price, itemId) {
            const quantity = quantities[itemId];
            if (quantity === 0) {
                showNotification('Please select a quantity first!');
                return;
            }

            const existingItem = cart.find(item => item.name === itemName);
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    name: itemName,
                    price: price,
                    quantity: quantity
                });
            }

            quantities[itemId] = 0;
            document.getElementById(itemId + '-qty').textContent = '0';
            updateCartDisplay();
            showNotification(`${itemName} added to cart!`);
        }

        function updateCartDisplay() {
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="text-gray-500 text-sm">Your cart is empty</p>';
                cartTotal.textContent = '$0.00';
                return;
            }

            let total = 0;
            cartItems.innerHTML = cart.map(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                return `
                    <div class="cart-item flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                        <div>
                            <p class="font-medium text-sm">${item.name}</p>
                            <p class="text-xs text-gray-600">${item.quantity} Ã— $${item.price.toFixed(2)}</p>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="font-semibold">$${itemTotal.toFixed(2)}</span>
                            <button onclick="removeFromCart('${item.name}')" class="text-red-500 hover:text-red-700">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                `;
            }).join('');

            cartTotal.textContent = `$${total.toFixed(2)}`;
        }

        function removeFromCart(itemName) {
            cart = cart.filter(item => item.name !== itemName);
            updateCartDisplay();
            showNotification('Item removed from cart');
        }

        function proceedToCheckout() {
            if (cart.length === 0) {
                showNotification('Your cart is empty!');
                return;
            }
            
            // Switch to billing tab and populate current bill
            switchTab('billing');
            populateCurrentBill();
            showNotification('Proceeding to checkout...');
        }

        function populateCurrentBill() {
            const currentBill = document.getElementById('current-bill');
            if (cart.length === 0) {
                currentBill.innerHTML = '<p class="text-gray-500">No pending items to bill</p>';
                return;
            }

            let subtotal = 0;
            const billItems = cart.map(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                return `
                    <div class="flex justify-between items-center py-2 border-b border-gray-200">
                        <div>
                            <p class="font-medium">${item.name}</p>
                            <p class="text-sm text-gray-600">${item.quantity} Ã— $${item.price.toFixed(2)}</p>
                        </div>
                        <span class="font-semibold">$${itemTotal.toFixed(2)}</span>
                    </div>
                `;
            }).join('');

            const tax = subtotal * 0.085;
            const total = subtotal + tax;

            currentBill.innerHTML = `
                <div class="bill-animation">
                    ${billItems}
                    <div class="mt-4 pt-4 border-t border-gray-300">
                        <div class="flex justify-between mb-2">
                            <span>Subtotal:</span>
                            <span>$${subtotal.toFixed(2)}</span>
                        </div>
                        <div class="flex justify-between mb-2">
                            <span>Tax (8.5%):</span>
                            <span>$${tax.toFixed(2)}</span>
                        </div>
                        <div class="flex justify-between font-bold text-lg border-t pt-2">
                            <span>Total:</span>
                            <span>$${total.toFixed(2)}</span>
                        </div>
                    </div>
                </div>
            `;

            // Update payment section
            document.getElementById('payment-amount').value = total.toFixed(2);
            document.getElementById('payment-subtotal').textContent = `$${subtotal.toFixed(2)}`;
            document.getElementById('payment-tax').textContent = `$${tax.toFixed(2)}`;
            document.getElementById('payment-total').textContent = `$${total.toFixed(2)}`;
        }

        // Account details functionality
        function requestAccountDetails() {
            showNotification('Account details requested from staff. Records will be updated shortly.');
        }

        // Billing functionality
        function calculateBill() {
            populateCurrentBill();
            showNotification('Bill calculated successfully!');
        }

        function printBill() {
            const currentBill = document.getElementById('current-bill');
            if (currentBill.innerHTML.includes('No pending items')) {
                showNotification('No bill to print!');
                return;
            }
            
            // Create a new window for printing
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <html>
                    <head>
                        <title>Customer Bill</title>
                        <style>
                            body { font-family: Arial, sans-serif; padding: 20px; }
                            .header { text-align: center; margin-bottom: 30px; }
                            .bill-content { max-width: 600px; margin: 0 auto; }
                        </style>
                    </head>
                    <body>
                        <div class="header">
                            <h1>ðŸ“š Customer Bill</h1>
                            <p>Date: ${new Date().toLocaleDateString()}</p>
                            <p>Customer: John Doe</p>
                        </div>
                        <div class="bill-content">
                            ${currentBill.innerHTML}
                        </div>
                    </body>
                </html>
            `);
            printWindow.document.close();
            printWindow.print();
            showNotification('Bill sent to printer!');
        }

        function processPayment() {
            const amount = document.getElementById('payment-amount').value;
            if (!amount || parseFloat(amount) <= 0) {
                showNotification('Please enter a valid payment amount!');
                return;
            }

            // Clear the cart and bill after successful payment
            cart = [];
            updateCartDisplay();
            document.getElementById('current-bill').innerHTML = '<p class="text-gray-500">No pending items to bill</p>';
            document.getElementById('payment-amount').value = '';
            document.getElementById('payment-subtotal').textContent = '$0.00';
            document.getElementById('payment-tax').textContent = '$0.00';
            document.getElementById('payment-total').textContent = '$0.00';
            
            showNotification(`Payment of $${parseFloat(amount).toFixed(2)} processed successfully!`);
        }

        // Exit system functionality
        function exitSystem() {window.location.href = 'Untitled-1.html';
        }


        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            updateCartDisplay();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96d586a07568b306',t:'MTc1NDg5MjE2Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
